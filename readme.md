# 職業やスキルの登録フォーム(ちょっと卒制意識)

## プロダクトの紹介

-  職業、地域などを登録。→joblist\_\*\*\*.php
-  ユーザ管理。→users\_\*\*\*.php

## 工夫した点，こだわった点

-  ログイン情報(ログインなし/ ログイン(会員)/ 管理者)によって、表示やリンクを変えた。PHP にて HTML 記述した変数を定義し、それを if 分岐。HTML ではその変数を呼び出すだけ。
-

## 苦戦した点，共有したいハマりポイントなど

-  ユーザ情報の称号と処理分岐について、何でも関数の中で書きたかったのだが、変数の未定義などが発生しまった。そのため関数上ではフラグの有無のみ処理し、本文ではフラグの有無により if 分岐した。実質２回 if 分岐していることになるので、もっと良い方法がありそうだが。。。だが汎用性を持たせるにはこのくらいの方が良い気もする(実際他の場所にも使うため、最終的な処理は異なるものが出てくる)。
-  きゅんさんに言われて気づいたのだが、以前の課題から、read と edit について、エラーが出ているとのこと。自分の環境では表示されない。何故？(未だ不明) ひとまず、read で発生していると言われた変数の undefined について改善策を盛り込んだ。

## やり残したこと

-  CSS 全般
-  カレンダー表示
-  検索機能
-  マップ表示
-

### 詳細記録(雑多)

●●● 　 ◎：完了、○：おおよそ完了、△：いまいち、×：まだ　 ●●●
●●●●●●●●●●● 記録 ●●●●●●●●●●●●

◎ 授業の todo を置き換え → 動作確認
◎ ログインしているかしていないか
◎ ログイン情報を自動で入力するボタン

◎ 職業ジャンルわけ
単純に項目を一つ追加した。

◎ 管理者かどうか(ユーザのランク)で画面が変わる
joblist_read 画面にて、管理者の時にユーザ管理画面へのリンクが出る様にした(20210112)
joblist_read 画面にて、ログインしていない時に「登録、削除」ボタンを非表示にした(20210113)

※ユーザによる画面切り替え詳細 ↓
ユーザランク的なものを設ける？ →is_admin だけでは無理？
　 → ログインなし/ ログイン(会員)：0, 管理者:1
0 ログインなし：参照のみ(登録、削除ボタンを隠せばいい？)
1 会員：データユーザ登録まではできる、更新削除ができない。
2 管理者：ユーザ登録、更新、削除もすべて可能。
０と１は授業通り,id で見分ける！
１と２で is_admin を使う！！→ ログインは一緒。だけど is_admin 情報により管理者かどうか分ける。
is_admin は id や username とともに SESSION にいれて、どこでも照合できる。
また、表示の内容やリンクなどは変数にしていれてしまうことで、HTML 側がすっきりする！(しのさんのページ参照)

× CSS 全般
→ やっているところだが、CSS やった方が表示がめちゃくちゃになるという悲劇に見舞われている(20210114)。

× 検索機能

× カレンダー表示

× マップ表示

×

×

×
